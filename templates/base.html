{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WAREFLOW</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'static2/css/open-iconic-bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'static2/css/animate.css' %}">
    
    <link rel="stylesheet" href="{% static 'static2/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'static2/css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'static2/css/magnific-popup.css' %}">

    <link rel="stylesheet" href="{% static 'static2/css/aos.css' %}">

    <link rel="stylesheet" href="{% static 'static2/css/ionicons.min.css' %}">

    <link rel="stylesheet" href="{% static 'static2/css/bootstrap-datepicker.css' %}">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="{% static 'static2/css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'static2/css/icomoon.css' %}">
    <link rel="stylesheet" href="{% static 'static2/css/style.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>
  <style>
    .product {
        width: 100%;
        height: auto;
        border: 1px solid #ccc;
        margin-bottom: 20px;
        position: relative;
    }

    /* Style for the product image container */
    .img-container {
        position: relative;
        width: 100%;
        padding-bottom: 100%;
        overflow: hidden;
    }

    /* Style for the product image */
    .img-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Style for the status overlay */
    .status {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: green;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
    }

    .out-of-stock {
      opacity: 0.6; /* Reduce opacity for a faded look */
      pointer-events: none; /* Disable pointer events for this element */
  }
  .table {
    width: 100%; /* Set the table width to 100% of its container */
  }

  .text-center {
    text-align: center; /* Center-align text within table cells */
  }

  .product-thumbnail img {
    max-width: 100px; /* Limit the width of product thumbnail images */
    height: auto; /* Automatically adjust the height to maintain aspect ratio */
  }

  .product-name h3 {
    font-size: 1.2rem; /* Adjust font size for product names */
  }
  .btn-update-quantity {
    background-color: white; /* Blue background color */
    color: #fff; /* White text color */
    cursor: pointer; /* Show a pointer cursor on hover */
    border-radius: 5px; /* Rounded corners */
}

/* Style for the "Remove From Cart" button */
.btn-remove-from-cart {
    background-color: white; /* Red background color */
    color: #fff; /* White text color */
    cursor: pointer; /* Show a pointer cursor on hover */
    border-radius: 5px; /* Rounded corners */
}
    /* Style for the quantity input field */
    .quantity-input {
      width: 40px; /* Adjust the width as needed */
      margin-right: 5px; /* Add spacing between input and button */
  }

  /* Optional: Align the button and input vertically */
  .button-container {
      display: flex;
      align-items: center;
  }
      /* Add your custom CSS styles here */
      body {
        background-color: #f7f7f7;
        font-family: Arial, sans-serif;
    }
    h2 {
        color: #333;
    }
    table {
        width: 150%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    th, td {
        padding: 10px;
        text-align: center;
    }
    th {
        background-color: #333;
        color: #fff;
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    .status-pending {
        color: #FF5733; /* Red for Pending status */
    }
    .status-successful {
        color: #4CAF50; /* Green for Successful status */
    }
    .status-failed {
        color: #FFC300; /* Yellow for Failed status */
    }
    .cart-total {
        text-align: center;
        margin-top: 20px;
    }
    .cart-total h6 {
        color: #333;
    }
    /* Target the container within the .ftco-section.ftco-cart */
.ftco-section.ftco-cart .container {
    max-width: 1200px; /* Set your desired maximum width */
    margin: 0 auto; /* Center the container */
}
#star-rating ul {
  display: flex;
  gap: 15px;
  list-style-type: none;
  unicode-bidi: bidi-override;
  direction: rtl;
}

li {
  font-size: 50px;
  cursor: pointer;
  color: #34495e;
  transition: all 0.5s ease;
}

li:hover, li.active {
  color: #f1c40f;
  transform: scale(1.2);
}

li:hover ~ li, li.active ~ li {
  color: #f1c40f;
}
</style>
  <body class="goto-here">
		<div class="py-1 bg-primary">
    	<div class="container">
    		<div class="row no-gutters d-flex align-items-start align-items-center px-md-0">
	    		<div class="col-lg-12 d-block">
		    		<div class="row d-flex">
		    			<div class="col-md pr-4 d-flex topper align-items-center">
					    	<div class="icon mr-2 d-flex justify-content-center align-items-center"><span class="icon-phone2"></span></div>
						    <span class="text">+91 8330859255</span>
					    </div>
					    <div class="col-md pr-4 d-flex topper align-items-center">
					    	<div class="icon mr-2 d-flex justify-content-center align-items-center"><span class="icon-paper-plane"></span></div>
						    <span class="text">wareflow100@gmail.com</span>
					    </div>
				    </div>
			    </div>
		    </div>
		  </div>
    </div>
	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
		<div class="container">
		  <a class="navbar-brand" href="{% url 'index' %}">WAREFLOW</a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="oi oi-menu"></span> Menu
		  </button>
      <form class="element1" id="search-form">
        <div class="input-group">
            <input type="text" class="form-control" id="search-input" placeholder="Search for products">
            <div class="input-group-append">
                <span class="input-group-text bg-transparent text-primary">
                    <i class="fa fa-search"></i>
                </span>
            </div>
        </div>
    </form>
		  <div class="collapse navbar-collapse" id="ftco-nav">
			<ul class="navbar-nav ml-auto">
			  <li class="nav-item active"><a href="{% url 'customer_index' %}" class="nav-link">Home</a></li>
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="{% url 'shop' %}" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
				<div class="dropdown-menu" aria-labelledby="dropdown04">
          <a class="dropdown-item" href="{% url 'about' %}">About</a>
				  <a class="dropdown-item" href="#">Contact</a>
				  {% comment %} <a class="dropdown-item" href="{% url 'wishlist' %}">Wishlist</a> {% endcomment %}
				  <a class="dropdown-item" href="#">Blog</a>

				  {% comment %} <a class="dropdown-item" href="{% url 'checkout' %}">Checkout</a> {% endcomment %}
				</div>
			  </li>
			  {% comment %} <li class="nav-item"><a href="{% url 'wishlist' %}" class="nav-link">Wishlist</a></li> {% endcomment %}
        <li class="nav-item"><a href="{% url 'shop' %}" id="top" class="nav-link">Shop</a></li>
        {% if user.is_authenticated %}
			  <li class="nav-item cta cta-colored"><a href="{% url 'cart' %}" class="nav-link"><span class="icon-shopping_cart"></span>[{{ cart_item_count }}]</a></li>
        {% else %}
			  <li class="nav-item cta cta-colored"><a href="{% url 'cart' %}" class="nav-link"><span class="icon-shopping_cart"></span>[0]</a></li>
        {% endif %}
			  <!-- Added Login and Registration buttons -->
			  {% if user.is_authenticated %}
	<div class="navbar-collapse justify-content-end px-0" id="navbarNav">
            <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
              <li class="nav-item dropdown">
                <a class="nav-link nav-icon-hover" href="javascript:void(0)" id="drop2" data-bs-toggle="dropdown" aria-expanded="false">
					{% if user.userprofile.profile_pic %}
					  <img src="{{ user.userprofile.profile_pic.url }}" alt="" width="35" height="35" class="rounded-circle">
					{% else %}
					  <img src="{% static 'admin/assets/images/profile/user-1.jpg' %}" alt="" width="35" height="35" class="rounded-circle">
					{% endif %}
				  </a> 
                <div class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up" aria-labelledby="drop2">
                  <a class="d-flex align-items-center gap-2 dropdown-item">
                    <i class="ti ti-user fs-6"></i>
                    <h6 class="mb-0 fs-3">{{ user.username }}</h6>
                </a>
                  <div class="message-body">
                    <a href="{% url 'profile' %}" class="d-flex align-items-center gap-2 dropdown-item">
                        <i class="ti ti-user fs-6"></i>
                        <p class="mb-0 fs-3">My Profile</p>
                    </a>                    
                  <a href="{% url 'orders' %}" class="d-flex align-items-center gap-2 dropdown-item">
                      <i class="ti ti-user fs-6"></i>
                      <p class="mb-0 fs-3">My Orders</p>
                  </a>
                  <a href="{% url 'loggout' %}" class="d-flex align-items-center gap-2 dropdown-item">
                    <i class="ti ti-user fs-6"></i>
                    <p class="mb-0 fs-3">Logout</p>
                </a>
                  </div>
                </div>
              </li>
            </ul>
          </div>
				{% else %}
				<a href="{% url 'login' %}" class="nav-link" style="color:black; margin-top:13px;">Login</a>
				<a href="{% url 'register' %}" class="nav-link" style="color:black;  margin-top:13px;">Register</a>
    	{% endif %}
			</ul>
		  </div>

		</div>
	  </nav>
    <div id="search-results"></div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#search-input').keyup(function () {
                var query = $(this).val();
                $.ajax({
                    type: 'GET',
                    url: '/live_search/',
                    data: {
                        'query': query
                    },
                    success: function (data) {
                        var results = data.products;
                        var resultsHtml = '';
                        resultsHtml += '<div class="container">';
                          resultsHtml += '  <div class="row">';
                          resultsHtml += '    <div class="col-12">';
                          resultsHtml += '      <div class="product-container" style="display: flex; flex-wrap: wrap; gap: 10px;">';
                          
                          if (results.length === 0) {
                              // If there are no results, insert a default image
                              resultsHtml += '        <div class="product-inf" style="flex-basis: calc(33.33% - 20px); text-align: center;">'; // Set width to 33.33% for each product in a row
                              resultsHtml += '          <img style="width: 100%;" src="{% static 'img/not-found.svg' %}" alt="Default Image">';
                              resultsHtml += '          <h3>No products found</h3>';
                              resultsHtml += '        </div>';
                          } else {
                              for (var i = 0; i < results.length; i++) {
                                  resultsHtml += '        <div style="flex-basis: calc(33.33% - 20px); display: flex; flex-direction: column; align-items: center; text-align: center; margin-bottom: 20px;">'; // Set width to 33.33% for each product in a row
                                  resultsHtml += '          <a href="/product/' + results[i].prod_id + '/">';
                                  resultsHtml += '            <img style="width: 40%;" src="' + results[i].img + '" alt="' + results[i].name + '">';
                                  resultsHtml += '          </a>';
                                  resultsHtml += '          <a href="/product/' + results[i].prod_id + '/" class="text-truncate">' + results[i].name + '</a>';
                                  resultsHtml += '          <span class="text-truncate">' + results[i].price + '</span>';
                                  resultsHtml += '        </div>';
                              }
                          }
                          
                          resultsHtml += '      </div>';
                          resultsHtml += '    </div>';
                          resultsHtml += '  </div>';
                          resultsHtml += '</div>';
                          
                          
            if (query) {
                $('#search-results').html(resultsHtml);
                $('#search-results').show();
                $('#hello').hide();

                
            } else {
                $('#search-results').hide();
                $('#hello').show();
                
            }
        }
                });
            });
        });

    </script>

    {%block content%}{% endblock %}
  </div>
    <div id="hello">

		<section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
      <div class="container py-4">
        <div class="row d-flex justify-content-center py-5">
          <div class="col-md-6">
          	<h2 style="font-size: 22px;" class="mb-0">Subcribe to our Newsletter</h2>
          	<span>Get e-mail updates about our latest shops and special offers</span>
          </div>
          <div class="col-md-6 d-flex align-items-center">
            <form action="#" class="subscribe-form">
              <div class="form-group d-flex">
                <input type="text" class="form-control" placeholder="Enter email address">
                <input type="submit" value="Subscribe" class="submit px-3">
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <footer class="ftco-footer ftco-section">
      <div class="container">
      	<div class="row">
      		<div class="mouse">
						<a href="#" class="mouse-icon">
							<div class="mouse-wheel"><span class="ion-ios-arrow-up"></span></div>
						</a>
					</div>
      	</div>
        <div class="row mb-5">
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">WAREFLOW</h2>
              <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
                <li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-instagram"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <h2 class="ftco-heading-2">Menu</h2>
              <ul class="list-unstyled">
                <li><a href="#" class="py-2 d-block">Shop</a></li>
                <li><a href="#" class="py-2 d-block">About</a></li>
                <li><a href="#" class="py-2 d-block">Contact Us</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-4">
             <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Help</h2>
              <div class="d-flex">
	              <ul class="list-unstyled mr-l-5 pr-l-3 mr-4">
	                <li><a href="#" class="py-2 d-block">Shipping Information</a></li>
	                <li><a href="#" class="py-2 d-block">Terms &amp; Conditions</a></li>
	                <li><a href="#" class="py-2 d-block">Privacy Policy</a></li>
	              </ul>
	              <ul class="list-unstyled">
	                <li><a href="#" class="py-2 d-block">FAQs</a></li>
	                <li><a href="#" class="py-2 d-block">Contact</a></li>
	              </ul>
	            </div>
            </div>
          </div>
          <div class="col-md">
            <div class="ftco-footer-widget mb-4">
            	<h2 class="ftco-heading-2">Have a Questions?</h2>
            	<div class="block-23 mb-3">
	              <ul>
	                <li><span class="icon icon-map-marker"></span><span class="text">Kanjirappilly,Kottayam,Kerela</span></li>
	                <li><a href="#"><span class="icon icon-phone"></span><span class="text">+918330859255</span></a></li>
	                <li><a href="#"><span class="icon icon-envelope"></span><span class="text">wareflow100@gmail.com</span></a></li>
	              </ul>
	            </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="{% static 'static2/js/jquery.min.js' %}"></script>
  <script src="{% static 'static2/js/jquery-migrate-3.0.1.min.js' %}"></script>
  <script src="{% static 'static2/js/popper.min.js' %}"></script>
  <script src="{% static 'static2/js/bootstrap.min.js' %}"></script>
  <script src="{% static 'static2/js/jquery.easing.1.3.js' %}"></script>
  <script src="{% static 'static2/js/jquery.waypoints.min.js' %}"></script>
  <script src="{% static 'static2/js/jquery.stellar.min.js' %}"></script>
  <script src="{% static 'static2/js/owl.carousel.min.js' %}"></script>
  <script src="{% static 'static2/js/jquery.magnific-popup.min.js' %}"></script>
  <script src="{% static 'static2/js/aos.js' %}"></script>
  <script src="{% static 'static2/js/jquery.animateNumber.min.js' %}"></script>
  <script src="{% static 'static2/js/bootstrap-datepicker.js' %}"></script>
  <script src="{% static 'static2/js/scrollax.min.js' %}"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&sensor=false"></script>
  <script src="{% static 'static2/js/google-map.js' %}"></script>
  <script src="{% static 'static2/js/main.js' %}"></script>
  
    
  </body>
</html>
